<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор принятия решений</title>
    <style>
        /* Основные стили */
        :root {
            --background-color: #ffffff;
            --text-color: #333;
            --button-color: #4CAF50;
            --button-hover-color: #45a049;
            --input-border-color: #ddd;
        }

        /* Темная тема */
        .dark-theme {
            --background-color: #333;
            --text-color: #ffffff;
            --button-color: #222;
            --button-hover-color: #555;
            --input-border-color: #555;
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            text-align: center;
            flex-direction: column;
            overflow: hidden;
        }

        /* Переключатель темы */
        .theme-switch-wrapper {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 12px;
            color: var(--text-color);
        }

        .theme-switch {
            position: relative;
            display: inline-block;
            width: 34px;
            height: 20px;
        }

        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--button-color);
        }

        input:checked + .slider:before {
            transform: translateX(14px);
        }

        h1 {
            font-size: 1.8em;
            margin-bottom: 20px;
            word-wrap: break-word;
            padding: 0 10px;
        }

        /* Контейнер для поля ввода и крестика очистки */
        .input-wrapper {
            position: relative;
            width: 90%;
            max-width: 300px;
            margin-bottom: 15px;
        }

        input {
            padding: 10px 30px 10px 10px;
            font-size: 16px;
            border: 2px solid var(--input-border-color);
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        /* Плавающий крестик для очистки */
        .clear-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            font-size: 1.2em;
            color: #777;
            display: none;
            user-select: none;
        }

        .clear-btn:hover {
            color: #333;
        }

        /* Адаптивность для мобильных */
        @media (max-width: 768px) {
            .clear-btn {
                font-size: 1.5em;
            }
        }

        button {
            padding: 12px 20px;
            font-size: 16px;
            cursor: pointer;
            color: #ffffff;
            background: var(--button-color);
            border: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background 0.3s;
            width: 90%;
            max-width: 200px;
        }

        button:hover {
            background: var(--button-hover-color);
        }

        /* Анимация для ответа */
        .response {
            margin-top: 30px;
            font-size: 20px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            transform: translateY(-10px);
            color: var(--text-color);
        }

        .response.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Footer */
        footer {
            position: absolute;
            bottom: 10px;
            font-size: 12px;
            color: var(--text-color);
            text-align: center;
            width: 100%;
        }

        .footer-text {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .footer-text div {
            margin: 2px 0;
        }

        .instagram-icon {
            width: 14px;
            height: 14px;
            display: inline-block;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png');
            background-size: cover;
            vertical-align: middle;
            margin-left: 5px;
        }

        footer a {
            color: var(--text-color);
            text-decoration: none;
        }

        footer a:hover {
            color: #555;
        }
    </style>
</head>
<body>

    <!-- Переключатель темы -->
    <div class="theme-switch-wrapper">
        <span>Светлая</span>
        <label class="theme-switch">
            <input type="checkbox" onchange="toggleTheme()">
            <span class="slider"></span>
        </label>
        <span>Темная</span>
    </div>

    <h1>Генератор принятия решений</h1>
    <div class="input-wrapper">
        <input type="text" id="question" placeholder="Задай свой вопрос..." oninput="toggleClearButton()" onkeypress="handleKeyPress(event)">
        <span class="clear-btn" onclick="clearInput()">✖</span>
    </div>
    <button onclick="getAnswer()">Принять решение</button>
    <div class="response" id="response"></div>

    <footer>
        <div class="footer-text">
            <div>® Tasbolat Kambarov <a href="https://www.instagram.com/taskamba/" target="_blank"><div class="instagram-icon"></div></a></div>
            <div>© All rights reserved • 2024</div>
        </div>
    </footer>

    <script>
        const answers = [
            "Да", "Нет", "Может быть", "Однозначно", "Сомневаюсь", "Решай сам", "Время покажет",
            "Почему бы и нет?", "Не сейчас", "Определённо да!", "Не стоит", "Спроси еще раз",
            "Лучше воздержаться", "Да, но будь осторожен", "Нет, но подумай еще раз",
            "Конечно", "Скорее всего", "Навряд ли", "Абсолютно точно", "Я бы не стал",
            "Мечты сбываются", "Пока нет", "Попробуй позже", "Обязательно!", 
            "Сейчас не лучшее время", "Твоя интуиция подскажет", "Не рассчитывай на это",
            "Это маловероятно", "Сделай это", "Перспективы хорошие", "Не рискуй",
            "Ответ очевиден: да", "Подожди ещё немного", "Ты уже знаешь ответ", 
            "Возможно, но не сейчас", "Все возможно", "Есть вероятность", "Ответ будет позже",
            "Доверься интуиции", "Жди сигнала", "Судьба улыбнется тебе", 
            "Конечно, нет", "Действуй смело!", "Почти да", "Почти нет", "Ты знаешь, что делать",
            "Слишком рано", "Позже", "Без сомнений", "Лучше нет"
        ];

        let lastQuestion = "";

        function toggleClearButton() {
            const clearBtn = document.querySelector('.clear-btn');
            clearBtn.style.display = document.getElementById('question').value ? 'inline' : 'none';
        }

        function clearInput() {
            document.getElementById('question').value = '';
            toggleClearButton();
        }

        function handleKeyPress(event) {
            if (event.key === "Enter") {
                getAnswer();
            }
        }

        function getAnswer() {
            const questionInput = document.getElementById('question');
            const question = questionInput.value.trim();
            const responseDiv = document.getElementById('response');

            // Проверка, чтобы вопрос содержал текст и допустимые символы
            const isValidQuestion = /^[A-Za-zА-Яа-яЁё\s,?]+$/.test(question) && /[A-Za-zА-Яа-яЁё]/.test(question);

            if (!question || question === lastQuestion || !isValidQuestion) {
                responseDiv.textContent = "Ошибка: Пожалуйста, задайте вопрос!";
                responseDiv.classList.add("show");
                return;
            }

            lastQuestion = question;
            const randomAnswer = answers[Math.floor(Math.random() * answers.length)];
            responseDiv.textContent = randomAnswer;
            responseDiv.classList.add("show");
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
        }
		function clearInput() {
		document.getElementById('question').value = '';  // Очищает поле ввода
		document.getElementById('response').textContent = '';  // Очищает ответ
		toggleClearButton();  // Обновляет видимость крестика
		}
    </script>

</body>
</html>
